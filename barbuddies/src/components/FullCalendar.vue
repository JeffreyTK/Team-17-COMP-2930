<template>
  <div>
    <NavBar />
    <div class='demo-app'>
      <FullCalendar
        class='demo-app-calendar'
        ref="fullCalendar"
        defaultView="dayGridMonth"
        :header="{
          left: 'prev,next',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        }"
        :plugins="calendarPlugins"
        :weekends="calendarWeekends"
        :events="calendarEvents"
        @dateClick="handleDateClick"
        />
    </div>
  </div>
</template>

<script>
import NavBar from './NavBar'
import FullCalendar from '@fullcalendar/vue'
import dayGridPlugin from '@fullcalendar/daygrid'
import timeGridPlugin from '@fullcalendar/timegrid'
import interactionPlugin from '@fullcalendar/interaction'
import '@fullcalendar/core/main.css'
import '@fullcalendar/daygrid/main.css'
import '@fullcalendar/timegrid/main.css'

export default {
  name: 'FullCalendar',
  components: {
    NavBar,
    FullCalendar // make the <FullCalendar> tag available
  },
  data: function () {
    return {
      calendarPlugins: [ // plugins must be defined in the JS
        dayGridPlugin,
        timeGridPlugin,
        interactionPlugin // needed for dateClick
      ],
      calendarWeekends: true,
      calendarEvents: [ // initial event data
        { title: 'Event Now', start: new Date() }
      ]
    }
  },
  methods: {
    handleDateClick: function (arg) {
      if (confirm('Would you like to add an event to ' + arg.dateStr + ' ?')) {
        this.calendarEvents.push({ // add new event data
          title: 'New Workout',
          start: arg.date,
          allDay: arg.allDay
        })
      }
    }
  }
  /* mounted: {
    calendarView: function () {
      if (Calendar._inactive) {
        FullCalendar.defaultView = 'timeGridWeek'
      } else {
        FullCalendar.defaultView = 'dayGridMonth'
      }
    }
  } */
}
</script>

<style lang='scss'>
@import '@fullcalendar/core/main.css';
@import '@fullcalendar/daygrid/main.css';
@import '@fullcalendar/timegrid/main.css';
.demo-app {
  font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
  font-size: 10px;
}
.demo-app-calendar {
  margin: 0 auto;
  max-width: 900px;
  height: 200px;
}
</style>
